"use strict";(self.webpackChunkEcommerce=self.webpackChunkEcommerce||[]).push([["src_app_views_auth_register_register_module_ts"],{6491:(C,d,i)=>{i.r(d),i.d(d,{RegisterModule:()=>n});var v=i(6895),h=i(9197),t=i(4006),A=i(2340),b=i(1816),e=i(4650),c=i(4463),Z=i(4755),w=i(7185),N=i(5760),p=i(3546);const P=function(){return["/auth/login"]};class u{constructor(r,s,o,m,g){this._TranslateService=r,this.cookieService=s,this._Router=o,this.toastr=m,this._ApiserviceService=g,this.clientId=A.N.clientId,this.SubscriptionArr=[],this.lang="en",this.egyptCites=[],this.userFormGroup=new t.cw({Name:new t.NI(null,[t.kI.required,t.kI.minLength(3)]),Email:new t.NI(null,[t.kI.required,t.kI.email,t.kI.pattern("^[A-Za-z0-9]{3,}(.?|[A-Za-z0-9]){5,}@(yahoo|gmail|Yahoo|Gmail).(com|Com)$")]),PhoneNumber:new t.NI(null,[t.kI.required]),Password:new t.NI(null,[t.kI.required,t.kI.pattern("^[a-zA-Z0-9]{8,16}$")]),RetypePassword:new t.NI(null,[t.kI.required,t.kI.pattern("^[a-zA-Z0-9]{8,16}$")])})}ngOnInit(){window.onGoogleLibraryLoad=()=>{google.accounts.id.initialize({client_id:this.clientId,callback:this.handleCredentialResponse.bind(this),auto_select:!1,cancel_on_tap_outside:!0}),google.accounts.id.renderButton(document.getElementById("buttonDiv"),{theme:"outline",size:"large",width:"100%"}),google.accounts.id.prompt(s=>{})};let r=this._ApiserviceService.UserDataFromToken();null!=r&&("Admin"==r.Roles||"User"==r.Roles)&&this._Router.navigate(["/user/home"]),this.language()}get Name(){return this.userFormGroup.get("Name")}get Email(){return this.userFormGroup.get("Email")}get PhoneNumber(){return this.userFormGroup.get("PhoneNumber")}get Password(){return this.userFormGroup.get("Password")}get RetypePassword(){return this.userFormGroup.get("RetypePassword")}handleCredentialResponse(r){let s=(0,b.Z)(r.credential);if(1==s.email_verified){let o={name:s.given_name,email:s.email,loginGoogle:!0,password:`${s.email}1997`,phoneNumber:""},m=this._ApiserviceService.post("authentication/register",o).subscribe({next:g=>{if("success"==g.message){let x=this._ApiserviceService.post("authentication/login",{email:o.email,password:o.password}).subscribe({next:f=>{"success"==f.message&&(this.cookieService.put("Token",f.token),this._Router.navigate(["/user/home"]))}});this.SubscriptionArr.push(x)}}});this.SubscriptionArr.push(m)}else this.toastr.error("\u0627\u064a\u0645\u064a\u0644 \u062c\u0648\u062c\u0644 \u063a\u064a\u0631 \u0645\u0641\u0639\u0644")}language(){let r=this._TranslateService.onLangChange.subscribe({next:s=>{this.lang=s.lang}});this.SubscriptionArr.push(r)}Submit(r){if(null==this.Name?.value||""==this.Name?.value.trim())return"ar"==this.lang?void this.toastr.error("\u0627\u062f\u062e\u0644 \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0648\u0644"):void this.toastr.error("Enter Name");if(0==this.Name?.valid)return"ar"==this.lang?void this.toastr.error("\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u0648\u0644 \u0639\u0644\u064a \u0627\u0644\u0627\u0642\u0644 3 \u0627\u062d\u0631\u0641"):void this.toastr.error("First Name Min 3 Character");if(null==this.PhoneNumber?.value||""==this.PhoneNumber?.value.trim())return"ar"==this.lang?void this.toastr.error("\u0627\u062f\u062e\u0644 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"):void this.toastr.error("Enter PhoneNumber");if(null==this.Email?.value||""==this.Email?.value.trim())return"ar"==this.lang?void this.toastr.error("\u0627\u062f\u062e\u0644 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0643\u062a\u0631\u0648\u0646\u064a"):void this.toastr.error("Enter Email");if(0==this.Email.valid)return"ar"==this.lang?void this.toastr.error("\u0627\u062f\u062e\u0644 \u0628\u0631\u064a\u062f \u0635\u062d\u064a\u062d yahoo | gmail"):void this.toastr.error("Enter yahoo | gmail");if(null==this.Password?.value||""==this.Password?.value.trim())return"ar"==this.lang?void this.toastr.error("\u0627\u062f\u062e\u0644 \u0643\u0644\u0645\u0647 \u0627\u0644\u0645\u0631\u0648\u0631 "):void this.toastr.error("Enter Password");if(0==this.Password.valid)return"ar"==this.lang?void this.toastr.error(" \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0645\u0646 8 \u0627\u062d\u0631\u0641 \u0627\u0648 \u0627\u0631\u0642\u0627\u0645"):void this.toastr.error("Password Character And Number Only");if(null==this.RetypePassword?.value||""==this.RetypePassword?.value.trim())return"ar"==this.lang?void this.toastr.error("\u0627\u062f\u062e\u0644 \u0643\u0644\u0645\u0647 \u0627\u0644\u0645\u0631\u0648\u0631 \u0645\u0631\u0629 \u0627\u062e\u0631\u064a"):void this.toastr.error("Enter Retype Password");if(this.Password?.value.trim()!==this.RetypePassword?.value.trim())return"ar"==this.lang?void this.toastr.error("\u0643\u0644\u0645\u062a\u0627 \u0627\u0644\u0645\u0631\u0648\u0631 \u063a\u064a\u0631 \u0645\u062a\u0637\u0627\u0628\u0642\u064a\u0646"):void this.toastr.error("Password Not Matched");if(r.valid){let s={Name:this.Name.value.trim(),Password:this.Password.value.trim(),Email:this.Email.value.trim(),PhoneNumber:this.PhoneNumber.value.trim(),loginGoogle:!1},o=this._ApiserviceService.post("authentication/register",s).subscribe({next:m=>{"success"==m.message&&(this.toastr.success("ar"==this.lang?"\u062a\u0645 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0628\u0646\u062c\u0627\u062d ":"Successfully Registered"),this._Router.navigate(["/auth/login"]))}});this.SubscriptionArr.push(o)}}ngOnDestroy(){for(let r=0;r<this.SubscriptionArr.length;r++)this.SubscriptionArr[r].unsubscribe();this.toastr.clear()}}u.\u0275fac=function(r){return new(r||u)(e.Y36(c.sK),e.Y36(Z.N_),e.Y36(h.F0),e.Y36(w._W),e.Y36(N.O))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-register"]],decls:41,vars:24,consts:[[1,""],[1,"cardStyle"],["id","buttonDiv"],[1,"col-12","col-lg-10","px-3","mx-auto","d-flex","flex-wrap","login","pb-5",3,"formGroup","ngSubmit"],[1,"col-12","col-sm-6","mt-2","mt-sm-0","p-2"],["for",""],["required","","formControlName","Name","type","text",1,"form-control","fs-5"],[1,"col-12","mt-2","mt-sm-0","p-2"],["formControlName","PhoneNumber","type","text","required","",1,"form-control","fs-5"],["formControlName","Email","type","email","required","",1,"form-control","fs-5"],[1,"d-flex","col-12","flex-wrap"],["formControlName","Password","type","password","required","",1,"form-control","fs-5"],["formControlName","RetypePassword","type","password","required","",1,"form-control","fs-5"],[1,"col-12","text-center"],[1,"px-3","text-start"],[3,"routerLink"],["type","submit",1,"btn","btn-info","btn-12","d-block","w-100","mx-auto","fs-5"]],template:function(r,s){1&r&&(e.TgZ(0,"section",0)(1,"mat-card",1)(2,"h2"),e._uU(3,"Login Below With Google"),e.qZA(),e._UZ(4,"div",2),e.qZA(),e.TgZ(5,"form",3),e.NdJ("ngSubmit",function(){return s.Submit(s.userFormGroup)}),e.TgZ(6,"div",4)(7,"label",5),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._UZ(10,"input",6),e.qZA(),e.TgZ(11,"div",7)(12,"label",5),e._uU(13),e.ALo(14,"translate"),e.qZA(),e._UZ(15,"input",8),e.qZA(),e.TgZ(16,"div",7)(17,"label",5),e._uU(18),e.ALo(19,"translate"),e.qZA(),e._UZ(20,"input",9),e.qZA(),e.TgZ(21,"div",10)(22,"div",4)(23,"label",5),e._uU(24),e.ALo(25,"translate"),e.qZA(),e._UZ(26,"input",11),e.qZA(),e.TgZ(27,"div",4)(28,"label",5),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"input",12),e.qZA()(),e.TgZ(32,"div",13)(33,"div",14)(34,"a",15),e._uU(35),e.ALo(36,"translate"),e.qZA()(),e.TgZ(37,"button",16)(38,"span"),e._uU(39),e.ALo(40,"translate"),e.qZA()()()()()),2&r&&(e.xp6(5),e.Q6J("formGroup",s.userFormGroup),e.xp6(3),e.Oqu(e.lcZ(9,9,"Name")),e.xp6(5),e.Oqu(e.lcZ(14,11,"PhoneNumber")),e.xp6(5),e.Oqu(e.lcZ(19,13,"Email")),e.xp6(6),e.Oqu(e.lcZ(25,15,"Password")),e.xp6(5),e.Oqu(e.lcZ(30,17,"RetypePassword")),e.xp6(5),e.Q6J("routerLink",e.DdM(23,P)),e.xp6(1),e.Oqu(e.lcZ(36,19,"Login")),e.xp6(4),e.Oqu(e.lcZ(40,21,"Register")))},dependencies:[h.rH,t._Y,t.Fj,t.JJ,t.JL,t.Q7,t.sg,t.u,p.a8,c.X$],styles:["section[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center}input[_ngcontent-%COMP%]{font-size:1.7rem!important}"]});const y=[{path:"",title:"Register",component:u}];class a{}a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[h.Bz.forChild(y),h.Bz]});class n{}n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[v.ez,a,c.aw,t.u5,t.UX,p.QW]})}}]);